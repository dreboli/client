<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="TBD : A secure, resilient, distributed and open communication platform.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>TBD</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/six-pack/tbd">View on GitHub</a>

          <h1 id="project_title">TBD</h1>
          <h2 id="project_tagline">A secure, resilient, distributed and open communication platform.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/six-pack/tbd/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/six-pack/tbd/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a id="it-has-to-start-somewhere" class="anchor" href="#it-has-to-start-somewhere" aria-hidden="true"><span class="octicon octicon-link"></span></a>It has to start somewhere...</h3>

<p>This is a secure messaging and communication client written in 100% Python. The client currently consists of the following main elements:</p>

<ol>
<li>Flask web front end providing user access to the application</li>
<li>Sqlalchemy interface to PySqlCipher wrapped Sqlite database</li>
<li>MQTT client for messaging<br>
</li>
</ol>

<h1>
<a id="security-objectives" class="anchor" href="#security-objectives" aria-hidden="true"><span class="octicon octicon-link"></span></a>Security Objectives</h1>

<ol>
<li>No unencrypted data shall be stored on the file-system at any time</li>
<li>All user to user communications shall be encrypted</li>
<li>Messages will automatically purge after a period of time</li>
<li>Clients and brokers will attempt to mitigate denial of service attacks</li>
<li>Brokers shall not have access to any unencrypted messages</li>
</ol>

<h1>
<a id="architecture" class="anchor" href="#architecture" aria-hidden="true"><span class="octicon octicon-link"></span></a>Architecture</h1>

<p>One or more Mosquito MQTT brokers provide the messaging backbone. These are deployed in bridged mode with all topics to be shared between brokers. It is up to broker operators to establish trust between themselves.</p>

<p>The basic client is a simple Flask web application which is the primary component of this platform. The client includes an MQTT stack and communicates with other peers by one or more brokers.</p>

<p>PGP keys are used as the primary identity, there is no central user database or password list. A user proves their identity to the system and other users using PGP only. All PGP operations are performed using GPG on the users system. All messages between users are automatically and transparently encrypted using PGP. Optionally messages may be automatically signed to prove authenticity to the recipient.</p>

<h1>
<a id="basic-client-operation-overview" class="anchor" href="#basic-client-operation-overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Client Operation Overview</h1>

<ol>
<li>Client application is started and may be accessed using a web-browser at <a href="http://127.0.0.1:7755">http://127.0.0.1:7755</a>
</li>
<li>If first run is detected then an initial set-up procedure is executed that requires the user to provide their PGP key and passphrase and a chosen display name. The application will create the encrypted local database and encrypt the database key using the users chosen PGP key. This concludes the initial setup.</li>
<li>The user is prompted to select a PGP key and provide the corresponding passphrase to access the application</li>
<li>The 'secret' file is PGP de-crypted and the SQL password is then read and used to decrypt and access the local database.</li>
<li>The client now attempts to establish a connection to the MQTT broker specified in the configuration. A customized PGP authentication plugin is used on each broker which allows client to authenticate using their chosen PGP key. The user identity consists of the 16 Byte PGP key ID.</li>
<li>If the connection is successful then the client establishes a number of PUB/SUB topics on the broker using the users PGP key as a username. Any queued messages will be delivered to the client</li>
<li>The client is now operational and may be used to send and receive messages.</li>
</ol>

<h1>
<a id="specialized-clients" class="anchor" href="#specialized-clients" aria-hidden="true"><span class="octicon octicon-link"></span></a>Specialized Clients</h1>

<p>A number of specialized clients can exist on the network which may be utilized by normal clients for enhanced functions and operations such as user directories, discussion boards and many other functions.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">TBD maintained by <a href="https://github.com/six-pack">six-pack</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
